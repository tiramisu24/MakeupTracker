{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./js/makeupComponents/drawEyebrows.js","webpack:///./js/startVideo.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","xOffset","yOffset","applyEyebrows","pos","canvas","drawingPad","Math","floor","sqrt","pow","setPos","drawEyebrows","slice","pos1","pos2","color","drawBrow","ctx","getContext","x1","y1","x2","y2","x3","y3","x4","y4","length","x","y","beginPath","moveTo","lineTo","quadraticCurveTo","closePath","fillStyle","filter","fill","dctx","vid","startVideo","play","ctrack","start","drawLoop","onFail","alert","document","addEventListener","event","getElementById","enablestart","onclick","window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","setTimeout","cancelRequestAnimFrame","cancelAnimationFrame","webkitCancelRequestAnimationFrame","mozCancelRequestAnimationFrame","oCancelRequestAnimationFrame","msCancelRequestAnimationFrame","clearTimeout","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","URL","webkitURL","msURL","mozURL","video","stream","srcObject","src","createObjectURL","onloadedmetadata","clm","tracker","init","startbutton","disabled","clearRect","width","height","getCurrentPosition","console","log"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","let applyFcns = {}\nlet xOffset,yOffset;\nfunction setPos(pos){\n    yOffset = Math.floor(Math.sqrt(Math.pow((pos[0][0]-pos[1][0]),2) + Math.pow((pos[0][1] - pos[1][1]),2))/10);\n    xOffset = Math.floor(Math.sqrt(Math.pow((pos[6][0]-pos[8][0]),2) + Math.pow((pos[6][1] - pos[8][1]),2))/13);\n  \n    // eyelinerPosL = (pos.slice(28,32).concat(pos.slice(67,71)).concat([pos[15]]));\n    // eyelinerPosR = (pos.slice(23,27).concat(pos.slice(63,67)).concat([pos[19]]));\n}\n\n// let eyebrowColor;\nfunction applyEyebrows(pos,canvas,drawingPad){\n  setPos(pos);\n  drawEyebrows(pos.slice(15,19),pos.slice(19,23),canvas, yOffset, xOffset, 'default');\n  drawEyebrows(pos.slice(15,19),pos.slice(19,23),drawingPad, yOffset*5, xOffset*5, 'default');\n\n}\nconst drawEyebrows = (pos1, pos2, canvas, yOffset, xOffset, color) => {\n    if(color === 'default'){\n      color = \"rgba(114, 66, 2, .5)\";\n    }\n  \n    drawBrow(pos1, canvas ,yOffset, xOffset, color);\n    drawBrow(pos2, canvas , yOffset, -xOffset, color);\n  };\n  const drawBrow = (pos,canvas, yOffset, xOffset, color) => {\n    const ctx = canvas.getContext('2d');\n  \n    const x1 = pos[0][0];\n    const y1 = pos[0][1];\n    const x2 = pos[1][0];\n    const y2 = pos[1][1];\n    const x3 = pos[2][0];\n    const y3 = pos[2][1];\n    const x4 = pos[3][0];\n    const y4 = pos[3][1];\n  \n  \n    const length = Math.sqrt(Math.pow((x3-x2),2) + Math.pow((y3-y2),2));\n    const x = x2 + (length/4);\n    const y = y2 - (Math.sqrt(3)/2 * length/4);\n    // Cubic curves example\n    // ctx.shadowColor = \"rgb(114, 66, 2)\";\n    // ctx.shadowOffsetX = 0;\n    // ctx.shadowOffsetY = 0;\n    ctx.beginPath();\n   //4\n    ctx.moveTo(x4, y4); //4\n    ctx.lineTo( x4 + xOffset, y4-yOffset); //3\n    ctx.lineTo( x3, y3-yOffset); //3\n    ctx.quadraticCurveTo(x,y, x2, y2-yOffset); //2\n    ctx.lineTo(x1, y1 ); //1\n    ctx.lineTo( (x3+x2*2)/3, (y3+y2)/2);\n    ctx.lineTo( (x3*2+x2)/3, (y3+y2)/2);\n    ctx.lineTo( x2, y2-yOffset); //2\n    ctx.lineTo( x4-xOffset, y4+yOffset);\n    ctx.closePath();\n  \n    ctx.fillStyle = color\n    // ctx.shadowBlur = yOffset*2;\n    ctx.filter = `blur(${Math.floor(xOffset/3)}px)`;\n  \n    // console.log(ctx);\n    ctx.fill();\n  };\n  \n  export {applyEyebrows};","import  { applyEyebrows} from './makeupComponents/drawEyebrows'\n//set up\nvar canvas, ctx, drawingPad, dctx, vid;\nvar pos, yOffset, xOffset, eyelinerPosL, eyelinerPosR,box;\n\nvar startVideo = function(){\n    vid.play();\n    ctrack.start(vid);\n    // unlockMakeUp();\n    trackingStarted = true;\n\n    drawLoop();\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\n    canvas = document.getElementById('overlay');\n    ctx = canvas.getContext('2d');\n    drawingPad = document.getElementById('drawingPad');\n    dctx = drawingPad.getContext('2d');  \n    vid = document.getElementById('video');\n    vid.addEventListener('canplay', enablestart, false);\n\n    document.getElementById('startbutton').onclick = startVideo;\n});\n\n//set up video\n/**\n * Provides requestAnimationFrame in a cross browser way.\n */\nwindow.requestAnimFrame = (function() {\n    return window.requestAnimationFrame ||\n           window.webkitRequestAnimationFrame ||\n           window.mozRequestAnimationFrame ||\n           window.oRequestAnimationFrame ||\n           window.msRequestAnimationFrame ||\n           function(/* function FrameRequestCallback */ callback, /* DOMElement Element */ element) {\n             return window.setTimeout(callback, 1000/60);\n           };\n  })();\n  \n  /**\n   * Provides cancelRequestAnimationFrame in a cross browser way.\n   */\n  window.cancelRequestAnimFrame = (function() {\n    return window.cancelAnimationFrame ||\n           window.webkitCancelRequestAnimationFrame ||\n           window.mozCancelRequestAnimationFrame ||\n           window.oCancelRequestAnimationFrame ||\n           window.msCancelRequestAnimationFrame ||\n           window.clearTimeout;\n  })();\n\n\nnavigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\nwindow.URL = window.URL || window.webkitURL || window.msURL || window.mozURL;\n\nif (navigator.getUserMedia) {\n    navigator.getUserMedia({video : true}, onSuccess, onFail);\n} else {\n    onFail()\n}\n\nfunction onSuccess( stream ) {\n    // add camera stream if getUserMedia succeeded\n    if (\"srcObject\" in vid) {\n        vid.srcObject = stream;\n    } else {\n        vid.src = (window.URL && window.URL.createObjectURL(stream));\n    }\n    vid.onloadedmetadata = function() {\n        vid.play();\n    }\n    // vid.onresize = function() {\n    //     adjustVideoProportions();\n    //     if (trackingStarted) {\n    //         ctrack.stop();\n    //         ctrack.reset();\n    //         ctrack.start(vid);\n    //     }\n    // }\n}\n\nfunction onFail() {\n    alert(\"There was some problem trying to fetch video from your webcam, try using chrome or check that your camera is enabled.\");\n}\n\n//face tracking\n\nvar ctrack = new clm.tracker();\nctrack.init();\nvar trackingStarted = false;\n\nfunction enablestart() {\n    var startbutton = document.getElementById('startbutton');\n    startbutton.value = \"start\";\n    startbutton.disabled = null;\n}\n\n\n\nvar drawLoop = () => {\n    requestAnimFrame(drawLoop);\n    ctx.clearRect(0, 0, vid.width, vid.height);\n    dctx.clearRect(0, 0, vid.width, vid.height);\n    pos = ctrack.getCurrentPosition()\n\n    if (pos) {\n        console.log(pos);\n    //   Object.keys(applyFcns).forEach(function(key) {\n    //     applyFcns[key]();\n    //   });\n      applyEyebrows(pos, canvas, drawingPad);\n      // applyBlush();\n      // applyLips();\n      // applyEyeliner();\n      // applyEyeshadow();\n        // ctrack.draw(overlay);\n    }\n}\n\n// function pouch(){\n//     console.log(\"meow\");\n// }\n\n// // module.exports = {\n// //     pouch: pouch\n// // }\n\n// export default pouch;\n\n"],"sourceRoot":""}